<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PnP-XAI-LLM</title>
  <script>document.documentElement.dataset.theme=localStorage.getItem('pnp-xai-theme')||'light';</script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/ide.css') }}" />
</head>
<body>
  {% set header_title = 'PnP-XAI-LLM' %}
  {% include 'header.html' with context %}

  <div class="main-layout">
    {% set is_index = true %}
    {% include 'sidebar.html' with context %}

    <!-- Right content area -->
    <main class="content-area">
      <div class="content-toolbar">
        <button type="button" class="btn-run" id="btn-run">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
          RUN
        </button>
        <span id="generation-status" class="generation-status" aria-live="polite"></span>
        <button type="button" class="input-setting-trigger" id="input-setting-trigger" title="테스크, 모델, Treatment, 이름 정보" data-task-title="" data-task-model="" data-task-treatment="">
          — | — | None | —
        </button>
      </div>

      <div class="input-setting-panel" id="input-setting-panel">
        <div class="input-setting-body" id="input-setting-body">
          <p class="input-setting-hint">Configure inputs tailored to the selected task. Content varies by XAI level / task type.</p>
        </div>
      </div>

      <div class="results-area">
        <div class="results-placeholder" id="results-placeholder">
          <span class="brand-title">PnP-XAI-LLM</span>
          <ul class="feature-list">
            <li></li>
            <li></li>
            <li></li>
          </ul>
        </div>
        <div class="results-content" id="results-content"></div>
      </div>
    </main>
  </div>

  <!-- Modal: full-screen task name input -->
  <div class="modal-overlay modal-fullscreen" id="modal-create-task-name">
    <div class="modal-create-task-inner">
      <h2 class="modal-create-task-title">Enter task name</h2>
      <input type="text" id="create-task-name-input" class="create-task-name-input" placeholder="Task name" />
      <div class="modal-create-task-actions">
        <button type="button" class="modal-btn-cancel" id="create-task-cancel">Cancel</button>
        <button type="button" class="modal-btn-confirm" id="create-task-confirm">Create</button>
      </div>
    </div>
  </div>

  <!-- Modal: confirm model load when session mismatch -->
  <div class="modal-overlay" id="modal-confirm-load">
    <div class="modal-dialog">
      <h3>Confirm Model Load</h3>
      <p id="modal-message">
        Loaded Model + Treatment does not match the current session.<br />
        Load the model with this setting?
      </p>
      <div class="modal-actions">
        <button type="button" class="modal-btn-cancel" id="modal-cancel">Cancel</button>
        <button type="button" class="modal-btn-confirm" id="modal-confirm">Load</button>
      </div>
    </div>
  </div>

  <script src="{{ url_for('static', filename='js/theme.js') }}"></script>
  <script src="{{ url_for('static', filename='js/xai_1/input_attribution_kde_vis.js') }}"></script>
  <script src="{{ url_for('static', filename='js/xai_1/input_attribution_gradient_control.js') }}"></script>
  <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
